<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Modifying output of sendMessagesOnShutdown() &ndash; Discussion &ndash; Flourish</title>
		<link href='http://fonts.googleapis.com/css?family=Arimo:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="css/main.css" type="text/css" media="all">
		<link rel="stylesheet" href="css/discussion.css" type="text/css" media="all">
		<meta name="credits" content="Font Awesome - http://fortawesome.github.com/Font-Awesome">
		<link rel="stylesheet" href="css/font-awesome.css" type="text/css">
		<link rel="stylesheet" href="js/codemirror.css" type="text/css">
		<script src="js/jquery-1.7.2.min.js"></script>
		<script src="js/codemirror.js"></script>
		<script src="js/util/runmode.js"></script>
		<script src="js/mode/xml/xml.js"></script>
		<script src="js/mode/clike/clike.js"></script>
		<script src="js/mode/javascript/javascript.js"></script>
		<script src="js/mode/css/css.js"></script>
		<script src="js/mode/php/php.js"></script>
		<script src="js/mode/mysql/mysql.js"></script>
		<script src="js/mode/htmlmixed/htmlmixed.js"></script>
		<script src="js/highlight.js"></script>
		<script type="text/javascript" src="js/jquery.autosize.js"></script>
<script type="text/javascript" src="js/topic.js"></script>
	</head>
	<body>
		<header>
			<section class="main group">
				<a href="../index.html"><img src="img/logo.png" alt="Flourish" /></a>
				<span class="tagline">PHP Unframework</span>
				<nav class="group">
					<a href="../docs.html">Documentation</a>
					<a href="../download/index.html">Download</a>
					<a href="https://github.com/flourishlib/flourish-classes">Code</a>
					<a href="https://github.com/flourishlib/flourish-classes/issues">Issues</a>
					<a href="../docs/Tests.html">Tests</a>
					<a href="index.html">Discussion</a>
					<a href="../blog.html">Blog</a>
				</nav>
			</section>
		</header>
		<section class="main">
                        <div style="margin: 0 0 20px; background-color: #f4cf80; color: black; padding: 10px 15px; border-radius: 3px">This is an archived copy of the forum for reference purposes</div>
<h1 id="original_post">Modifying output of sendMessagesOnShutdown()</h1>
<div class="topic_details">
	<span class="author">
		posted by
					appbeacon			</span>
	<span class="date_posted" title="5/8/09 12:21pm">
		10 years ago	</span>
	</div>


<div class="body topic">
	
<p>
When notifying a user of a problem with a site, I like to give them an Error Code like CGA-393023.  They can then report that to the developer.  Then, I normally extend Exception to print this at the top of the error log and backtrace.  That way, the developer can simply search for an error code to get to the backtrace.
</p>

<p>
I'm trying to get this functionality in flourish.  I'd like to modify the &quot;One or more errors or exceptions occured at...&quot; header of sendMessagesOnShutdown() to reflect the Error Code I provided to the user.  
</p>

<p>
Ex : &quot;CGA-393023 : One or more errors or exceptions occured at ...&quot; 
</p>

<p>
I can't seem to find anyway to do this without actually editing the flourish code and causing upgrade problems down the road.  I can't extend <a href="../docs/fCore.html">fCore</a> because so many other flourish classes would need to be modified.
</p>

<p>
Can anyone think of a way to accomplish this?
</p>
</div>


<div class="topic actions">
	</div>

<div class="messages">
		<div class="children">
					<div class="message" id="message-208">
				<div class="body" id="body-208">
					
<p>
Okay, maybe I was just trying to get a bit too fancy here.  Instead, I've just decided to write directly to the output destination before exiting.  That way, my error code is just above the backtrace.
</p>

<p>
Still, would be interested in other ideas.
</p>
				</div>
				
				<div class="message_details">
					<span class="author">
						posted by
													appbeacon											</span>
					<span class="date_posted" title="5/8/09 2:08pm">
						10 years ago					</span>
					<span class="actions">
											</span>
				</div>

							</div>
						<div class="message" id="message-213">
				<div class="body" id="body-213">
					
<p>
So exceptions can take a second parameter that is a integer code. Right now I don't do anything with the code. It would probably make sense to include the code in the backtrace with <a href="../api/fCore.html#sendMessagesOnShutdown">fCore::sendMessagesOnShutdown()</a>. It might also make sense to see if <a href="../docs/fException.html">fException</a> can be changed to allow non-integer codes so that alpha-numeric codes are valid too.
</p>

<p>
If you open up a ticket enhancement, I can work on this.
</p>
				</div>
				
				<div class="message_details">
					<span class="author">
						posted by
						 <a href="https://github.com/wbond">							wbond						</a> 					</span>
					<span class="date_posted" title="5/14/09 10:38am">
						10 years ago					</span>
					<span class="actions">
											</span>
				</div>

							</div>
				</div>
	</div>

		</section>
		<footer>
			<section class="main group">
				Â© 2012 Will Bond
			</section>
		</footer>
	</body>
</html>
